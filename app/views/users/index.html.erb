<h1>Usuarios</h1>

<div class="mb-3">
  <%= link_to "Criar Usuário", new_company_user_path(@company), class: "btn btn-success" %>

  <%= form_with url: company_users_path(@company), method: :get, data: { turbo_frame: "users_list" }, local: true, class: "row g-3 align-items-end" do |f| %>
    <div class="col-auto">
      <%= f.label :username, "Nome do usuário", class: "form-label" %>
      <%= f.text_field :username, value: params[:username] || params[:display_name], data: { action: "input->users_filter#filter" }, class: "form-control" %>
    </div>

    <div class="col-auto">
      <%= f.submit "Filtrar", class: "btn btn-primary" %>
    </div>
  <% end %>
</div>

<turbo-frame id="users_list">
  <%= render partial: "users_list", locals: { users: @users } %>
</turbo-frame>